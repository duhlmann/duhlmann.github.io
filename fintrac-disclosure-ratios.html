<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FINTRAC Disclosures — Ratios (2018–19)</title>
<style>
  :root{ --bg:#0b0f19; --card:#121827; --text:#e5e7eb; --muted:#9aa4b2; }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif}
  .wrap{max-width:1000px;margin:28px auto;padding:0 16px}
  h1{font-size:clamp(22px,4vw,30px);margin:0 0 4px}
  .sub{color:var(--muted);margin:0 0 16px}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}
  .card{background:var(--card);border-radius:16px;padding:16px}
  .big{font-size:clamp(22px,4vw,28px);font-weight:700}
  .muted{color:var(--muted)}
  .table{width:100%;border-collapse:collapse;margin-top:8px;font-size:14px}
  .table th,.table td{padding:8px;border-bottom:1px solid #1f2937;text-align:left}
  .kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:16px}
  .kpi{background:#0e1526;border-radius:12px;padding:12px}
  .kpi .label{color:var(--muted);font-size:12px}
  .kpi .value{font-size:20px;font-weight:700}
</style>
</head>
<body>
  <div class="wrap">
    <h1>FINTRAC Disclosures — Ratios (2018–19)</h1>
    <p class="sub">Shows how many reports become police intelligence, and BC’s share of those disclosures.</p>

    <div class="grid">
      <!-- Donut 1 -->
      <div class="card">
        <div id="donut1" style="height:360px;"></div>
        <div><span class="big">0.0067%</span> <span class="muted">of all reports became disclosures to law enforcement</span></div>
      </div>

      <!-- Donut 2 -->
      <div class="card">
        <div id="donut2" style="height:360px;"></div>
        <div><span class="big">17.5%</span> <span class="muted">of disclosures went to BC</span></div>
      </div>
    </div>

    <div class="card" style="margin-top:16px">
      <table class="table">
        <thead>
          <tr><th>Metric (2018–19)</th><th>Value</th></tr>
        </thead>
        <tbody>
          <tr><td>Total reports filed to FINTRAC</td><td>28,181,435</td></tr>
          <tr><td>Disclosures to law enforcement (Canada)</td><td>1,900</td></tr>
          <tr><td>Disclosures to BC</td><td>332</td></tr>
          <tr><td>% of reports that became disclosures</td><td>0.0067%</td></tr>
          <tr><td>% of disclosures that went to BC</td><td>17.5%</td></tr>
          <tr><td>% of all reports that went to BC as disclosures</td><td>0.00118%</td></tr>
        </tbody>
      </table>

      <div class="kpis">
        <div class="kpi">
          <div class="label">Reports ➜ Disclosures</div>
          <div class="value">1 in ~14,830</div>
        </div>
        <div class="kpi">
          <div class="label">BC share of disclosures</div>
          <div class="value">≈ 1 in 6</div>
        </div>
      </div>
    </div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
<script>
  // Numbers
  const reports = 28181435;
  const disclosures = 1900;
  const bc = 332;

  // Formatter
  const fmt = n => n.toLocaleString();

  // Donut 1: Reports ➜ Disclosures
  const d1 = echarts.init(document.getElementById('donut1'));
  d1.setOption({
    backgroundColor: 'transparent',
    tooltip: { trigger: 'item', formatter: p => `${p.name}: <b>${p.percent.toFixed(4)}%</b><br>${fmt(p.value)}` },
    series: [{
      type: 'pie',
      radius: ['60%','80%'],
      minAngle: 3,
      label: { show: true, formatter: p => p.name === 'Disclosures' ? 'Disclosures' : '', color: '#e5e7eb' },
      labelLine: { show: false },
      data: [
        { name: 'Disclosures', value: disclosures, itemStyle: { color: '#f97316' } }, // orange
        { name: 'Not disclosed', value: reports - disclosures, itemStyle: { color: '#374151' } } // grey
      ]
    }]
  });

  // Donut 2: Disclosures ➜ BC
  const d2 = echarts.init(document.getElementById('donut2'));
  d2.setOption({
    backgroundColor: 'transparent',
    tooltip: { trigger: 'item', formatter: p => `${p.name}: <b>${p.percent.toFixed(1)}%</b><br>${fmt(p.value)}` },
    legend: { bottom: 0, textStyle: { color: '#e5e7eb' } },
    series: [{
      type: 'pie',
      radius: ['60%','80%'],
      minAngle: 3,
      label: { color: '#e5e7eb' },
      data: [
        { name: 'BC', value: bc, itemStyle: { color: '#0ea5e9' } }, // teal
        { name: 'Other provinces/territories', value: disclosures - bc, itemStyle: { color: '#374151' } } // grey
      ]
    }]
  });

  window.addEventListener('resize', () => { d1.resize(); d2.resize(); });
</script>
</body>
</html>
