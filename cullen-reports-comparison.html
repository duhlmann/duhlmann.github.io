<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Financial Transaction Reports Filed (2019–20)</title>
  <style>
    :root{ --bg:#0b0f19; --card:#121827; --text:#e5e7eb; --muted:#9aa4b2; }
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif}
    .wrap{max-width:960px;margin:28px auto;padding:0 16px}
    h1{font-size:clamp(22px,4vw,30px);margin:0 0 8px}
    .box{background:var(--card);border-radius:16px;padding:16px}
    .caption{font-size:14px;color:var(--muted);margin-top:10px;line-height:1.4}
    .note{font-size:12px;color:var(--muted);margin-top:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Financial Transaction Reports Filed (2019–20)</h1>
    <div class="box">
      <div id="chart" style="height:480px;"></div>
      <div class="caption">
        Totals reported to national FIUs, 2019–20:<br>
        Canada: 31,000,000 · United States: 21,600,000 · United Kingdom: 573,085
      </div>
      <div class="note">
        UK figure reflects SARs only (the UK doesn’t collect large cash / EFT reports like Canada/US), so this
        comparison shows overall reporting volume, not identical categories.
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <script>
    const el = document.getElementById('chart');
    const chart = echarts.init(el);

    const data = [
      { name: 'Canada', value: 31000000 },
      { name: 'United States', value: 21600000 },
      { name: 'United Kingdom', value: 573085 }
    ];

    function fmt(n){
      return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
    }

    const option = {
      backgroundColor: 'transparent',
      title: {
        text: 'Volume of Financial Transaction Reports (2019–20)',
        subtext: 'Source: Cullen Commission; FINTRAC / national FIUs',
        left: 'center',
        textStyle: { color: '#e5e7eb', fontSize: 16 },
        subtextStyle: { color: '#9aa4b2' }
      },
      tooltip: {
        trigger: 'item',
        formatter: p => `${p.name}<br><b>${fmt(p.value)}</b> reports`
      },
      xAxis: {
        type: 'category',
        data: data.map(d => d.name),
        axisLabel: { color: '#e5e7eb' },
        axisLine: { lineStyle: { color: '#374151' } }
      },
      yAxis: {
        type: 'value',
        axisLabel: {
          color: '#e5e7eb',
          formatter: v => v >= 1e6 ? (v/1e6)+'M' : v >= 1e3 ? (v/1e3)+'K' : v
        },
        splitLine: { lineStyle: { color: '#1f2937' } }
      },
      series: [{
        type: 'bar',
        data: data.map(d => d.value),
        barWidth: '50%',
        label: {
          show: true,
          position: 'top',
          formatter: p => fmt(p.value),
          color: '#e5e7eb'
        },
        emphasis: { focus: 'series' }
      }]
    };

    chart.setOption(option);
    window.addEventListener('resize', () => chart.resize());
  </script>
</body>
</html>
